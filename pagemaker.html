<html>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            var self = this;
            let url = new URL(window.location);
            let params = url.searchParams;
            let page = params.get('page');
            let jsonUrl = './json/' + page + '.json';

            $.get(jsonUrl, function(data) {
                document.title = data.title;
                $('head').append('<meta name="description" content="' + data.meta.description + '">');
                self.content = data.content;
                let cssUrl = './css/' + data.theme + '.css';
                let link = document.createElement('link');
                link.rel = 'stylesheet';
                link.type = 'text/css';
                link.href = cssUrl;
                document.getElementsByTagName('HEAD')[0].appendChild(link);
            })
                .fail(function() {
                    window.location='./page-not-found';
                });
            
        </script>
        <title>Nodigroup Default Page</title>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <!--<link rel="stylesheet" href="css/theme.css">-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/riot/3.13.2/riot+compiler.min.js" type="text/javascript"></script>
        <script src="https://kit.fontawesome.com/54ab41f591.js" crossorigin="anonymous"></script>
    </head>

    <body>
        <script type="riot/tag" src="tags/navbar.tag"></script>
        <script type="riot/tag" src="tags/nodi-content.tag"></script>
        <script type="riot/tag" src="tags/nodi-page-header.tag"></script>
        <script type="riot/tag" src="tags/nodi-header.tag"></script>
        <script type="riot/tag" src="tags/nodi-link.tag"></script>
        <script type="riot/tag" src="tags/nodi-list.tag"></script>
        <script type="riot/tag" src="tags/nodi-section.tag"></script>
        <script type="riot/tag" src="tags/nodi-text.tag"></script>
        <script type="riot/tag" src="tags/nodi-back.tag"></script>
        <script type="module">
            riot.mount('*');
        </script>
        <navbar></navbar>
        <nodi-content content="{self.content}"></nodi-content>
        <nodi-back></nodi-back>
        

    </body>
</html>